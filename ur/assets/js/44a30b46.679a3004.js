"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[2831],{4776(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>x,frontMatter:()=>a,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"module2-simulation/chapter4","title":"Chapter 4: Unity for Robot Visualization","description":"Learning Objectives","source":"@site/docs/module2-simulation/chapter4.mdx","sourceDirName":"module2-simulation","slug":"/module2-simulation/chapter4","permalink":"/Hackathon-One-Physical-AI-Humanoid-Robotics-Course-/ur/docs/module2-simulation/chapter4","draft":false,"unlisted":false,"editUrl":"https://github.com/samreensaif/Hackathon-One-Physical-AI-Humanoid-Robotics-Course-/tree/main/physical-ai-textbook/docs/module2-simulation/chapter4.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Chapter 4: Unity for Robot Visualization","sidebar_position":4,"gpu_required":true},"sidebar":"tutorialSidebar","previous":{"title":"Real-Time Rendering","permalink":"/Hackathon-One-Physical-AI-Humanoid-Robotics-Course-/ur/docs/module2-simulation/chapter3"},"next":{"title":"Chapter 1: NVIDIA Isaac Sim Overview","permalink":"/Hackathon-One-Physical-AI-Humanoid-Robotics-Course-/ur/docs/module3-isaac/chapter1"}}');var s=i(4848),r=i(8453),o=i(7132),l=i(20);const a={title:"Chapter 4: Unity for Robot Visualization",sidebar_position:4,gpu_required:!0},c="Chapter 4: Unity for Robot Visualization",d={},h=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"4.1 Why Unity for Robotics?",id:"41-why-unity-for-robotics",level:2},{value:"4.2 Unity Robotics Hub Setup",id:"42-unity-robotics-hub-setup",level:2},{value:"4.2.1 Prerequisites",id:"421-prerequisites",level:3},{value:"4.2.2 Installing the Unity Robotics Hub Package",id:"422-installing-the-unity-robotics-hub-package",level:3},{value:"4.2.3 Importing a URDF Robot",id:"423-importing-a-urdf-robot",level:3},{value:"4.3 ROS-TCP Connector",id:"43-ros-tcp-connector",level:2},{value:"4.3.1 Architecture",id:"431-architecture",level:3},{value:"4.3.2 Installing the ROS TCP Endpoint",id:"432-installing-the-ros-tcp-endpoint",level:3},{value:"4.3.3 Running the Endpoint",id:"433-running-the-endpoint",level:3},{value:"4.3.4 Configuring Unity",id:"434-configuring-unity",level:3},{value:"4.3.5 Publishing and Subscribing in C#",id:"435-publishing-and-subscribing-in-c",level:3},{value:"4.4 High-Fidelity Rendering with HDRP",id:"44-high-fidelity-rendering-with-hdrp",level:2},{value:"4.4.1 Key HDRP Features for Robotics",id:"441-key-hdrp-features-for-robotics",level:3},{value:"4.4.2 Setting Up an HDRP Robotics Scene",id:"442-setting-up-an-hdrp-robotics-scene",level:3},{value:"4.4.3 Synthetic Dataset Generation",id:"443-synthetic-dataset-generation",level:3},{value:"4.5 Human-Robot Interaction Scenes",id:"45-human-robot-interaction-scenes",level:2},{value:"4.5.1 Animated Human Characters",id:"451-animated-human-characters",level:3},{value:"4.5.2 Proxemic Zones",id:"452-proxemic-zones",level:3},{value:"4.5.3 VR Teleoperation Interface",id:"453-vr-teleoperation-interface",level:3},{value:"4.6 Practical Exercise",id:"46-practical-exercise",level:2},{value:"Summary",id:"summary",level:2},{value:"Review Questions",id:"review-questions",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{}),"\n",(0,s.jsx)(l.A,{}),"\n",(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"chapter-4-unity-for-robot-visualization",children:"Chapter 4: Unity for Robot Visualization"})}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Set up the Unity Robotics Hub and configure a ROS-TCP connection"}),"\n",(0,s.jsx)(n.li,{children:"Stream real-time sensor and joint data from ROS 2 into Unity"}),"\n",(0,s.jsx)(n.li,{children:"Leverage Unity's High Definition Render Pipeline (HDRP) for photorealistic robot scenes"}),"\n",(0,s.jsx)(n.li,{children:"Build interactive human-robot interaction (HRI) environments in Unity"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"41-why-unity-for-robotics",children:"4.1 Why Unity for Robotics?"}),"\n",(0,s.jsxs)(n.p,{children:["While Gazebo and NVIDIA Isaac Sim are purpose-built robot simulators, ",(0,s.jsx)(n.strong,{children:"Unity"})," brings a different set of strengths to Physical AI development:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Gazebo / Isaac Sim"}),(0,s.jsx)(n.th,{children:"Unity"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Physics accuracy"}),(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"Moderate\u2013High"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Visual fidelity"}),(0,s.jsx)(n.td,{children:"Moderate"}),(0,s.jsx)(n.td,{children:"Very High (HDRP)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Human-in-the-loop scenes"}),(0,s.jsx)(n.td,{children:"Limited"}),(0,s.jsx)(n.td,{children:"Excellent"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Asset ecosystem"}),(0,s.jsx)(n.td,{children:"ROS-specific"}),(0,s.jsx)(n.td,{children:"Millions of assets"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Scripting"}),(0,s.jsx)(n.td,{children:"Python / C++"}),(0,s.jsx)(n.td,{children:"C#"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"VR/AR support"}),(0,s.jsx)(n.td,{children:"Limited"}),(0,s.jsx)(n.td,{children:"Native"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Unity excels when you need ",(0,s.jsx)(n.strong,{children:"photorealistic rendering"}),", ",(0,s.jsx)(n.strong,{children:"crowd simulation"}),", or ",(0,s.jsx)(n.strong,{children:"VR-based teleoperation"})," interfaces \u2014 all common requirements in human-robot interaction research."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"42-unity-robotics-hub-setup",children:"4.2 Unity Robotics Hub Setup"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Unity Robotics Hub"})," is an open-source collection of packages from Unity Technologies that bridges Unity and ROS/ROS 2."]}),"\n",(0,s.jsx)(n.h3,{id:"421-prerequisites",children:"4.2.1 Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Unity 2021.3 LTS or later (Unity 6 recommended)"}),"\n",(0,s.jsx)(n.li,{children:"ROS 2 Humble or later installed on your machine"}),"\n",(0,s.jsx)(n.li,{children:"Python 3.10+"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"422-installing-the-unity-robotics-hub-package",children:"4.2.2 Installing the Unity Robotics Hub Package"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open your Unity project (or create a new one with ",(0,s.jsx)(n.strong,{children:"3D (HDRP)"})," template)."]}),"\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"Window \u2192 Package Manager \u2192 + \u2192 Add package from git URL"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Enter:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Repeat for the URDF Importer:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://github.com/Unity-Technologies/URDF-Importer.git?path=/com.unity.robotics.urdf-importer\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsx)(n.li,{children:"Unity will resolve dependencies automatically."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"423-importing-a-urdf-robot",children:"4.2.3 Importing a URDF Robot"}),"\n",(0,s.jsx)(n.p,{children:"Once the URDF Importer is installed:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Place your ",(0,s.jsx)(n.code,{children:".urdf"})," file and mesh assets inside ",(0,s.jsx)(n.code,{children:"Assets/URDF/"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Project"})," panel, right-click the ",(0,s.jsx)(n.code,{children:".urdf"})," file \u2192 ",(0,s.jsx)(n.strong,{children:"Import Robot from URDF"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"A GameObject hierarchy matching your robot's link/joint tree will be generated."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Robot (root)\n\u251c\u2500\u2500 base_link\n\u2502   \u251c\u2500\u2500 Collision\n\u2502   \u2514\u2500\u2500 Visual\n\u251c\u2500\u2500 shoulder_link\n\u2502   \u251c\u2500\u2500 Collision\n\u2502   \u2514\u2500\u2500 Visual\n\u2514\u2500\u2500 ...\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"43-ros-tcp-connector",children:"4.3 ROS-TCP Connector"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"ROS-TCP Connector"})," creates a bidirectional TCP bridge between a running ROS 2 network and the Unity runtime."]}),"\n",(0,s.jsx)(n.h3,{id:"431-architecture",children:"4.3.1 Architecture"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ROS 2 Node  <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>  ROS TCP Endpoint  <\u2500\u2500TCP\u2500\u2500>  Unity (ROS-TCP Connector)\n  (Python)                     (Python server)               (C# package)\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ROS TCP Endpoint"})," runs as a Python node on the ROS side."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ROS TCP Connector"})," runs inside the Unity Editor or built application."]}),"\n",(0,s.jsx)(n.li,{children:"Messages are serialised using standard ROS message definitions."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"432-installing-the-ros-tcp-endpoint",children:"4.3.2 Installing the ROS TCP Endpoint"}),"\n",(0,s.jsx)(n.p,{children:"In your ROS 2 workspace:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src\ngit clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint.git\ncd ~/ros2_ws\ncolcon build --symlink-install\nsource install/setup.bash\n"})}),"\n",(0,s.jsx)(n.h3,{id:"433-running-the-endpoint",children:"4.3.3 Running the Endpoint"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run ros_tcp_endpoint default_server_endpoint --ros-args \\\n  -p ROS_IP:=0.0.0.0 \\\n  -p ROS_TCP_PORT:=10000\n"})}),"\n",(0,s.jsx)(n.h3,{id:"434-configuring-unity",children:"4.3.4 Configuring Unity"}),"\n",(0,s.jsxs)(n.p,{children:["In Unity, go to ",(0,s.jsx)(n.strong,{children:"Robotics \u2192 ROS Settings"})," and set:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Protocol"}),": ROS 2"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ROS IP Address"}),": ",(0,s.jsx)(n.code,{children:"127.0.0.1"})," (or your ROS machine's IP on the network)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ROS Port"}),": ",(0,s.jsx)(n.code,{children:"10000"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"435-publishing-and-subscribing-in-c",children:"4.3.5 Publishing and Subscribing in C#"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Subscribe to a topic"})," (e.g. joint states):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Sensor;\n\npublic class JointStateSubscriber : MonoBehaviour\n{\n    ROSConnection ros;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Subscribe<JointStateMsg>("/joint_states", OnJointState);\n    }\n\n    void OnJointState(JointStateMsg msg)\n    {\n        for (int i = 0; i < msg.name.Length; i++)\n        {\n            Debug.Log($"{msg.name[i]}: {msg.position[i]:F3} rad");\n        }\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Publish to a topic"})," (e.g. velocity commands):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using RosMessageTypes.Geometry;\n\npublic class VelocityPublisher : MonoBehaviour\n{\n    ROSConnection ros;\n    const string topicName = "/cmd_vel";\n    const float publishRate = 10f; // Hz\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.RegisterPublisher<TwistMsg>(topicName);\n        InvokeRepeating(nameof(Publish), 0f, 1f / publishRate);\n    }\n\n    void Publish()\n    {\n        var msg = new TwistMsg();\n        msg.linear.x = 0.5;\n        ros.Publish(topicName, msg);\n    }\n}\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"44-high-fidelity-rendering-with-hdrp",children:"4.4 High-Fidelity Rendering with HDRP"}),"\n",(0,s.jsxs)(n.p,{children:["Unity's ",(0,s.jsx)(n.strong,{children:"High Definition Render Pipeline (HDRP)"})," produces photorealistic output suitable for generating synthetic training data and compelling demonstrations."]}),"\n",(0,s.jsx)(n.h3,{id:"441-key-hdrp-features-for-robotics",children:"4.4.1 Key HDRP Features for Robotics"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Application"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Ray-traced shadows & reflections"}),(0,s.jsx)(n.td,{children:"Realistic indoor scenes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Physically-based materials"}),(0,s.jsx)(n.td,{children:"Accurate surface appearance"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Volumetric fog & lighting"}),(0,s.jsx)(n.td,{children:"Warehouse/factory ambiance"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Post-processing stack"}),(0,s.jsx)(n.td,{children:"Depth of field, lens flare"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Adaptive Probe Volumes"}),(0,s.jsx)(n.td,{children:"Dynamic global illumination"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"442-setting-up-an-hdrp-robotics-scene",children:"4.4.2 Setting Up an HDRP Robotics Scene"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sky and Lighting"}),": Use ",(0,s.jsx)(n.strong,{children:"HDRI Sky"})," with a factory or lab HDR environment map."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Robot Materials"}),": Apply ",(0,s.jsx)(n.strong,{children:"Lit"})," shader with metallic/roughness maps exported from your CAD tool."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Area Lights"}),": Place rectangular area lights above workstations to simulate industrial lighting."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Depth of Field"}),": Attach a ",(0,s.jsx)(n.strong,{children:"Volume"})," component with a Depth of Field override to simulate camera optics."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Scene\n\u251c\u2500\u2500 Sky Volume (HDRI Sky + Exposure)\n\u251c\u2500\u2500 Directional Light (Sun)\n\u251c\u2500\u2500 Area Lights (ceiling panels)\n\u251c\u2500\u2500 Robot Prefab\n\u2502   \u2514\u2500\u2500 Camera Mount\n\u2502       \u2514\u2500\u2500 Volume (Depth of Field)\n\u2514\u2500\u2500 Environment (floor, walls, obstacles)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"443-synthetic-dataset-generation",children:"4.4.3 Synthetic Dataset Generation"}),"\n",(0,s.jsxs)(n.p,{children:["HDRP scenes can be combined with Unity's ",(0,s.jsx)(n.strong,{children:"Perception Package"})," to generate annotated synthetic datasets:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install via Package Manager\nhttps://github.com/Unity-Technologies/com.unity.perception.git\n"})}),"\n",(0,s.jsx)(n.p,{children:"The Perception package provides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Randomizers"})," \u2014 vary object poses, materials, and lighting each frame"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Labelers"})," \u2014 generate bounding box, segmentation, and depth ground truth automatically"]}),"\n",(0,s.jsxs)(n.li,{children:["Export in ",(0,s.jsx)(n.strong,{children:"COCO"})," or ",(0,s.jsx)(n.strong,{children:"Pascal VOC"})," format for training downstream models"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"45-human-robot-interaction-scenes",children:"4.5 Human-Robot Interaction Scenes"}),"\n",(0,s.jsxs)(n.p,{children:["Unity's strengths in animation, crowd simulation, and VR make it ideal for ",(0,s.jsx)(n.strong,{children:"HRI research"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"451-animated-human-characters",children:"4.5.1 Animated Human Characters"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.strong,{children:"Unity's Humanoid Avatar"})," system with motion-captured animations:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Import a humanoid character (e.g. from Mixamo or ReadyPlayerMe)."}),"\n",(0,s.jsxs)(n.li,{children:["Set ",(0,s.jsx)(n.strong,{children:"Rig \u2192 Animation Type: Humanoid"})," in the import settings."]}),"\n",(0,s.jsxs)(n.li,{children:["Apply an ",(0,s.jsx)(n.strong,{children:"Animator Controller"})," with states for idle, walk, gesture, etc."]}),"\n",(0,s.jsx)(n.li,{children:"Drive state transitions from ROS topic data to synchronise human and robot actions."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"452-proxemic-zones",children:"4.5.2 Proxemic Zones"}),"\n",(0,s.jsx)(n.p,{children:"Model the four proxemic zones for safe HRI:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Intimate  0 \u2013 0.45 m   (robot should halt)\nPersonal  0.45 \u2013 1.2 m (slow approach permitted)\nSocial    1.2 \u2013 3.6 m  (normal interaction zone)\nPublic    > 3.6 m      (free navigation)\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In Unity, implement these as nested ",(0,s.jsx)(n.strong,{children:"Sphere Colliders"})," on the human prefab with ",(0,s.jsx)(n.code,{children:"isTrigger = true"}),", and publish zone events back to ROS as ",(0,s.jsx)(n.code,{children:"std_msgs/String"})," messages."]}),"\n",(0,s.jsx)(n.h3,{id:"453-vr-teleoperation-interface",children:"4.5.3 VR Teleoperation Interface"}),"\n",(0,s.jsx)(n.p,{children:"For immersive robot teleoperation:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Install ",(0,s.jsx)(n.strong,{children:"XR Plugin Management"})," and enable your headset's XR provider (OpenXR, Oculus, etc.)."]}),"\n",(0,s.jsxs)(n.li,{children:["Replace the main camera with an ",(0,s.jsx)(n.strong,{children:"XR Rig"})," prefab."]}),"\n",(0,s.jsx)(n.li,{children:"Map controller input to ROS velocity commands:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",children:'using UnityEngine.XR;\n\nVector2 joystick = new Vector2();\nInputDevices.GetDeviceAtXRNode(XRNode.LeftHand)\n    .TryGetFeatureValue(CommonUsages.primary2DAxis, out joystick);\n\nvar twist = new TwistMsg();\ntwist.linear.x  =  joystick.y * maxLinearSpeed;\ntwist.angular.z = -joystick.x * maxAngularSpeed;\nros.Publish("/cmd_vel", twist);\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["Stream the robot's camera feed back into the VR headset using a ",(0,s.jsx)(n.strong,{children:"Render Texture"})," displayed on a world-space canvas."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"46-practical-exercise",children:"4.6 Practical Exercise"}),"\n",(0,s.jsx)(n.p,{children:"Build a Unity scene that:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Loads a TurtleBot3 URDF using the URDF Importer."}),"\n",(0,s.jsxs)(n.li,{children:["Subscribes to ",(0,s.jsx)(n.code,{children:"/joint_states"})," and visualises wheel rotation in real time."]}),"\n",(0,s.jsxs)(n.li,{children:["Publishes ",(0,s.jsx)(n.code,{children:"/cmd_vel"})," from keyboard input (WASD)."]}),"\n",(0,s.jsx)(n.li,{children:"Places an HDRP factory environment around the robot."}),"\n",(0,s.jsx)(n.li,{children:"Adds one animated human character that publishes proxemic zone events to ROS."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Test the pipeline end-to-end by running the ROS TCP Endpoint alongside a ",(0,s.jsx)(n.code,{children:"teleop_twist_keyboard"})," node."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"In this chapter you learned how to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Install and configure the ",(0,s.jsx)(n.strong,{children:"Unity Robotics Hub"})," and ",(0,s.jsx)(n.strong,{children:"URDF Importer"})]}),"\n",(0,s.jsxs)(n.li,{children:["Bridge ROS 2 and Unity with the ",(0,s.jsx)(n.strong,{children:"ROS-TCP Connector"})," for real-time message exchange"]}),"\n",(0,s.jsxs)(n.li,{children:["Produce photorealistic robot environments using Unity's ",(0,s.jsx)(n.strong,{children:"HDRP"})]}),"\n",(0,s.jsxs)(n.li,{children:["Generate annotated synthetic datasets with the ",(0,s.jsx)(n.strong,{children:"Perception Package"})]}),"\n",(0,s.jsxs)(n.li,{children:["Design ",(0,s.jsx)(n.strong,{children:"HRI scenes"})," with animated humans, proxemic zones, and VR teleoperation"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Unity complements dedicated robot simulators by providing unmatched visual fidelity and interactive human elements, making it a powerful tool in any Physical AI developer's toolkit."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"What is the role of the ROS TCP Endpoint, and where does it run?"}),"\n",(0,s.jsx)(n.li,{children:"How does the URDF Importer represent a robot's link/joint hierarchy in Unity?"}),"\n",(0,s.jsx)(n.li,{children:"What are three HDRP features that improve synthetic data quality for robot perception?"}),"\n",(0,s.jsx)(n.li,{children:"Describe how proxemic zones can be implemented and communicated back to ROS 2."}),"\n",(0,s.jsx)(n.li,{children:"What Unity package would you use to automatically generate bounding-box annotations for a synthetic dataset?"}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},20(e,n,i){i.d(n,{A:()=>p});var t=i(6540),s=i(8774);const r="container_dCV0",o="row_RaZg",l="personalizeBtn_aAG4",a="showOriginalBtn_xRLS",c="badge_sNej",d="personalizedContent_IU8L",h="loginPrompt_KXHJ",u="error_X2St";var x=i(4848);function p(){const[e,n]=(0,t.useState)(!1),[i,p]=(0,t.useState)(null),[j,g]=(0,t.useState)("idle"),[m,b]=(0,t.useState)(""),[y,R]=(0,t.useState)("");(0,t.useEffect)(()=>{n(!0);const e=localStorage.getItem("auth_user");if(e)try{const n=JSON.parse(e);p(n.profile||null)}catch{}},[]);const f=(0,t.useCallback)(async()=>{if(!i)return;g("loading");const e=document.querySelector("article"),n=e?e.innerText:document.body.innerText,t="undefined"!=typeof window&&window.CHATBOT_API_URL?window.CHATBOT_API_URL:"http://localhost:8000";try{const e=await fetch(`${t}/personalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n,experience_level:i.programmingExp||"Beginner",has_gpu:"Yes"===i.hasGPU,ros_experience:i.rosExperience||"none",learning_style:i.learningStyle||"Reading"})});if(!e.ok)throw new Error(`Server error ${e.status}`);const s=await e.json();b(s.personalized_content),g("done")}catch(s){R(s.message),g("error")}},[i]),v=(0,t.useCallback)(()=>{g("idle"),b(""),R("")},[]);return e?i?(0,x.jsxs)("div",{className:r,children:["idle"===j&&(0,x.jsx)("button",{className:l,onClick:f,children:"\u2728 Personalize for Me"}),"loading"===j&&(0,x.jsx)("button",{className:l,disabled:!0,children:"\u23f3 Personalizing\u2026"}),"error"===j&&(0,x.jsxs)("div",{className:o,children:[(0,x.jsx)("button",{className:l,onClick:f,children:"\u2728 Personalize for Me"}),(0,x.jsxs)("span",{className:u,children:["Failed: ",y]})]}),"done"===j&&(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:o,children:[(0,x.jsxs)("span",{className:c,children:["\u2728 Personalized for ",i.programmingExp," \xb7 ",i.learningStyle," learner"]}),(0,x.jsx)("button",{className:a,onClick:v,children:"\ud83d\udcc4 Show Original"})]}),(0,x.jsx)("div",{className:d,children:m})]})]}):(0,x.jsx)("div",{className:r,children:(0,x.jsxs)("span",{className:h,children:["\u2728"," ",(0,x.jsx)(s.A,{to:"/signin",children:"Sign in"})," ","to get content personalised to your experience level."]})}):null}},7132(e,n,i){i.d(n,{A:()=>h});var t=i(6540);const s="container_sRRF",r="row_Wfea",o="translateBtn_zwOG",l="showOriginalBtn__IG_",a="translatedContent_uGS7",c="error_H8Lp";var d=i(4848);function h(){const[e,n]=(0,t.useState)("idle"),[i,h]=(0,t.useState)(""),[u,x]=(0,t.useState)(""),p=(0,t.useCallback)(async()=>{n("loading");const e=document.querySelector("article"),i=e?e.innerText:document.body.innerText,t="undefined"!=typeof window&&window.CHATBOT_API_URL?window.CHATBOT_API_URL:"http://localhost:8000";try{const e=await fetch(`${t}/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i,target_language:"urdu"})});if(!e.ok)throw new Error(`Server error ${e.status}`);const s=await e.json();h(s.translated_text),n("translated")}catch(s){x(s.message),n("error")}},[]),j=(0,t.useCallback)(()=>{n("idle"),h(""),x("")},[]);return(0,d.jsxs)("div",{className:s,children:[("idle"===e||"error"===e)&&(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("button",{className:o,onClick:p,children:"\ud83c\udf10 Translate to Urdu"}),"error"===e&&(0,d.jsxs)("span",{className:c,children:["Translation failed: ",u]})]}),"loading"===e&&(0,d.jsx)("button",{className:o,disabled:!0,children:"\u23f3 Translating\u2026"}),"translated"===e&&(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{className:l,onClick:j,children:"\ud83d\udcd6 Show Original English"}),(0,d.jsx)("div",{className:a,dir:"rtl",lang:"ur",children:i})]})]})}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);