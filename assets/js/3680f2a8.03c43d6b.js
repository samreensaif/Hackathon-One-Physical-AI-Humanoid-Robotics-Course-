"use strict";(globalThis.webpackChunkphysical_ai_textbook=globalThis.webpackChunkphysical_ai_textbook||[]).push([[1159],{9782(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"module1-ros2/chapter1","title":"Chapter 1: Introduction to ROS 2","description":"Learning Objectives","source":"@site/docs/module1-ros2/chapter1.mdx","sourceDirName":"module1-ros2","slug":"/module1-ros2/chapter1","permalink":"/Hackathon-One-Physical-AI-Humanoid-Robotics-Course-/docs/module1-ros2/chapter1","draft":false,"unlisted":false,"editUrl":"https://github.com/samreensaif/Hackathon-One-Physical-AI-Humanoid-Robotics-Course-/tree/main/physical-ai-textbook/docs/module1-ros2/chapter1.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Chapter 1: Introduction to ROS 2","sidebar_position":1},"sidebar":"tutorialSidebar","next":{"title":"Chapter 2: Nodes, Topics, and Services","permalink":"/Hackathon-One-Physical-AI-Humanoid-Robotics-Course-/docs/module1-ros2/chapter2"}}');var i=s(4848),t=s(8453),o=s(7132),a=s(20);const l={title:"Chapter 1: Introduction to ROS 2",sidebar_position:1},c="Chapter 1: Introduction to ROS 2 \u2014 The Robotic Nervous System",d={},h=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"1.1 What Is ROS 2?",id:"11-what-is-ros-2",level:2},{value:"The Scale of the Ecosystem",id:"the-scale-of-the-ecosystem",level:3},{value:"1.2 A Brief History: Why Does ROS 2 Exist?",id:"12-a-brief-history-why-does-ros-2-exist",level:2},{value:"The Birth of ROS 1 (2007\u20132010)",id:"the-birth-of-ros-1-20072010",level:3},{value:"ROS 1&#39;s Limitations in Production",id:"ros-1s-limitations-in-production",level:3},{value:"The ROS 2 Redesign (2014\u20132022)",id:"the-ros-2-redesign-20142022",level:3},{value:"1.3 The Architecture of ROS 2",id:"13-the-architecture-of-ros-2",level:2},{value:"Layer 1: DDS \u2014 The Foundation",id:"layer-1-dds--the-foundation",level:3},{value:"Layer 2: rmw \u2014 The Abstraction",id:"layer-2-rmw--the-abstraction",level:3},{value:"Layer 3: rcl \u2014 The Core",id:"layer-3-rcl--the-core",level:3},{value:"Layer 4: rclpy / rclcpp \u2014 Your API",id:"layer-4-rclpy--rclcpp--your-api",level:3},{value:"1.4 Core ROS 2 Concepts",id:"14-core-ros-2-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics",id:"topics",level:3},{value:"Services",id:"services",level:3},{value:"Actions",id:"actions",level:3},{value:"Parameters",id:"parameters",level:3},{value:"The Computation Graph",id:"the-computation-graph",level:3},{value:"1.5 ROS 2 vs. ROS 1: A Detailed Comparison",id:"15-ros-2-vs-ros-1-a-detailed-comparison",level:2},{value:"Migration from ROS 1",id:"migration-from-ros-1",level:3},{value:"1.6 The ROS 2 Lifecycle: Managed Nodes",id:"16-the-ros-2-lifecycle-managed-nodes",level:2},{value:"1.7 Setting Up Your ROS 2 Environment",id:"17-setting-up-your-ros-2-environment",level:2},{value:"Supported Distributions",id:"supported-distributions",level:3},{value:"Installation Summary",id:"installation-summary",level:3},{value:"Verifying Your Installation",id:"verifying-your-installation",level:3},{value:"1.8 The DDS Domain: Multi-Robot and Multi-User Environments",id:"18-the-dds-domain-multi-robot-and-multi-user-environments",level:2},{value:"1.9 Chapter Summary",id:"19-chapter-summary",level:2},{value:"Review Questions",id:"review-questions",level:2}];function u(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{}),"\n",(0,i.jsx)(a.A,{}),"\n",(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-1-introduction-to-ros-2--the-robotic-nervous-system",children:"Chapter 1: Introduction to ROS 2 \u2014 The Robotic Nervous System"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Explain what ROS 2 is and articulate its role in the robotics software ecosystem"}),"\n",(0,i.jsx)(n.li,{children:"Describe the historical context that motivated the creation of ROS 2 from ROS 1"}),"\n",(0,i.jsx)(n.li,{children:"Identify the key architectural components of ROS 2 and explain how they interact"}),"\n",(0,i.jsx)(n.li,{children:"Compare ROS 1 and ROS 2 across the dimensions of reliability, security, and real-time capability"}),"\n",(0,i.jsx)(n.li,{children:"Set up a ROS 2 development environment and run your first command-line tools"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"11-what-is-ros-2",children:"1.1 What Is ROS 2?"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Robot Operating System 2 (ROS 2)"})," is an open-source, middleware-based framework for building robot software. Despite the name, it is not an operating system in the traditional sense \u2014 it does not manage hardware directly or schedule CPU time. Instead, ROS 2 is a ",(0,i.jsx)(n.strong,{children:"robotics middleware"})," that provides:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A standardised ",(0,i.jsx)(n.strong,{children:"communication layer"})," between software components"]}),"\n",(0,i.jsxs)(n.li,{children:["A rich ",(0,i.jsx)(n.strong,{children:"library ecosystem"})," for perception, navigation, manipulation, and more"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tools"})," for visualisation, simulation, debugging, and deployment"]}),"\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.strong,{children:"build system"})," that supports multi-language, multi-package projects"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Think of ROS 2 as the ",(0,i.jsx)(n.strong,{children:"nervous system of a robot"}),": just as the nervous system routes signals between the brain, sensory organs, and muscles, ROS 2 routes data between the sensing, thinking, and actuating software components of a robotic system."]}),"\n",(0,i.jsx)(n.h3,{id:"the-scale-of-the-ecosystem",children:"The Scale of the Ecosystem"}),"\n",(0,i.jsx)(n.p,{children:"As of 2024, the ROS ecosystem encompasses:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Over ",(0,i.jsx)(n.strong,{children:"5,000 public packages"})," on ROS Index"]}),"\n",(0,i.jsx)(n.li,{children:"Active use in research labs, startups, and enterprises across 100+ countries"}),"\n",(0,i.jsx)(n.li,{children:"Adoption in domains ranging from autonomous vehicles and surgical robots to drones and space exploration"}),"\n",(0,i.jsx)(n.li,{children:"Support for robots made by Boston Dynamics, KUKA, Universal Robots, Clearpath Robotics, and many others"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When you learn ROS 2, you are not just learning a tool \u2014 you are learning the ",(0,i.jsx)(n.em,{children:"lingua franca"})," of modern robotics."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"12-a-brief-history-why-does-ros-2-exist",children:"1.2 A Brief History: Why Does ROS 2 Exist?"}),"\n",(0,i.jsx)(n.h3,{id:"the-birth-of-ros-1-20072010",children:"The Birth of ROS 1 (2007\u20132010)"}),"\n",(0,i.jsx)(n.p,{children:"ROS 1 was created at Willow Garage, a robotics research lab in Menlo Park, California. The team, led by Morgan Quigley, faced a recurring problem: every new robot project required rebuilding the same foundational software \u2014 camera drivers, sensor parsers, geometric transforms, visualisation tools. This duplication of effort was wasteful."}),"\n",(0,i.jsxs)(n.p,{children:["Their solution was a ",(0,i.jsx)(n.strong,{children:"shared communication infrastructure"})," that would let software components (which they called ",(0,i.jsx)(n.em,{children:"nodes"}),") talk to each other without caring about each other's implementation language or hardware. ROS 1 was released publicly in 2010 and quickly became the dominant standard in academic robotics."]}),"\n",(0,i.jsx)(n.h3,{id:"ros-1s-limitations-in-production",children:"ROS 1's Limitations in Production"}),"\n",(0,i.jsx)(n.p,{children:"ROS 1 was designed for research, and it showed. As robotics moved from labs toward real-world deployment, ROS 1's architectural choices caused serious problems:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Problem"}),(0,i.jsx)(n.th,{children:"Root Cause in ROS 1"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Single point of failure"})}),(0,i.jsxs)(n.td,{children:["A central process called ",(0,i.jsx)(n.code,{children:"rosmaster"})," was required for all communication. If it crashed, the entire robot stopped."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"No real-time guarantees"})}),(0,i.jsx)(n.td,{children:"ROS 1 used TCP sockets with no Quality-of-Service control, making it unsuitable for safety-critical timing."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"No security"})}),(0,i.jsx)(n.td,{children:"All communication was unencrypted and unauthenticated; any device on the network could eavesdrop or inject messages."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Linux only"})}),(0,i.jsx)(n.td,{children:"ROS 1 was deeply coupled to Ubuntu Linux, making it impossible to run on embedded systems or Windows."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Python 2"})}),(0,i.jsx)(n.td,{children:"ROS 1's Python stack was built on Python 2, which reached end-of-life in 2020."})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"the-ros-2-redesign-20142022",children:"The ROS 2 Redesign (2014\u20132022)"}),"\n",(0,i.jsx)(n.p,{children:"Open Robotics (the non-profit that manages ROS) began designing ROS 2 in 2014. Rather than patching ROS 1, they made a clean break:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["They replaced the custom transport layer with ",(0,i.jsx)(n.strong,{children:"DDS"})," (Data Distribution Service), an industry-standard publish-subscribe middleware already proven in avionics and defence systems."]}),"\n",(0,i.jsxs)(n.li,{children:["They removed the ",(0,i.jsx)(n.code,{children:"rosmaster"})," central broker entirely, enabling ",(0,i.jsx)(n.strong,{children:"fully distributed"})," peer-to-peer communication."]}),"\n",(0,i.jsxs)(n.li,{children:["They added ",(0,i.jsx)(n.strong,{children:"Quality-of-Service (QoS)"})," policies for reliability, latency, and history."]}),"\n",(0,i.jsxs)(n.li,{children:["They built native support for ",(0,i.jsx)(n.strong,{children:"Windows, macOS, and Linux"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"They designed the API in modern C++ (C++17) and Python 3."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 Humble Hawksbill (2022) became the first Long-Term Support (LTS) release, and ROS 2 is now the recommended choice for all new projects."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"13-the-architecture-of-ros-2",children:"1.3 The Architecture of ROS 2"}),"\n",(0,i.jsx)(n.p,{children:"Understanding the layers of ROS 2 is essential for reasoning about performance, reliability, and debugging. The architecture can be described as a stack of four layers:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Your Robot Application                \u2502\n\u2502         (Nodes: perception, planning, control)          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              rclcpp / rclpy  (Client Libraries)         \u2502\n\u2502   The API you write code against \u2014 C++ and Python       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                    rcl  (ROS Client Library)             \u2502\n\u2502        Language-agnostic C implementation of ROS 2      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              rmw  (ROS Middleware Interface)             \u2502\n\u2502        Abstraction layer over the DDS implementation    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502           DDS Implementation (e.g. FastDDS, CycloneDDS) \u2502\n\u2502     The actual transport: discovery, serialisation,     \u2502\n\u2502                 QoS, and network I/O                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"layer-1-dds--the-foundation",children:"Layer 1: DDS \u2014 The Foundation"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Data Distribution Service (DDS)"})," is an OMG (Object Management Group) standard for real-time, scalable, anonymous publish-subscribe communication. It handles:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Automatic Discovery"}),": DDS nodes discover each other using the RTPS (Real-Time Publish-Subscribe) protocol. No broker is needed."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Serialisation"}),": Messages are converted to bytes and back using IDL (Interface Definition Language)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Quality of Service"}),": Publishers and subscribers negotiate policies such as reliability, deadline, and lifespan."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["ROS 2 ships with support for multiple DDS implementations, selectable at runtime. The most common are ",(0,i.jsx)(n.strong,{children:"eProsima FastDDS"})," (the default) and ",(0,i.jsx)(n.strong,{children:"Eclipse CycloneDDS"})," (popular in robotics platforms like Nav2)."]}),"\n",(0,i.jsx)(n.h3,{id:"layer-2-rmw--the-abstraction",children:"Layer 2: rmw \u2014 The Abstraction"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"ROS Middleware Interface (rmw)"})," is a set of C function signatures that every DDS vendor must implement. This allows ROS 2 to swap the underlying DDS vendor without changing your application code. You select the vendor with the ",(0,i.jsx)(n.code,{children:"RMW_IMPLEMENTATION"})," environment variable:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp\n"})}),"\n",(0,i.jsx)(n.h3,{id:"layer-3-rcl--the-core",children:"Layer 3: rcl \u2014 The Core"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"rcl"})," (ROS Client Library) implements all the ROS 2 concepts \u2014 nodes, topics, services, actions, parameters, timers \u2014 on top of rmw. It is written in C and forms the single source of truth for ROS 2 semantics."]}),"\n",(0,i.jsx)(n.h3,{id:"layer-4-rclpy--rclcpp--your-api",children:"Layer 4: rclpy / rclcpp \u2014 Your API"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"rclpy"})," (Python) and ",(0,i.jsx)(n.strong,{children:"rclcpp"})," (C++) are thin wrappers over rcl that expose an idiomatic API in their respective languages. As a Python AI practitioner, you will spend most of your time with ",(0,i.jsx)(n.strong,{children:"rclpy"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"14-core-ros-2-concepts",children:"1.4 Core ROS 2 Concepts"}),"\n",(0,i.jsx)(n.p,{children:"Before diving into code, it is essential to understand the six fundamental abstractions that ROS 2 provides. You will study each in depth in later chapters."}),"\n",(0,i.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"node"})," is a single executable process that performs one specific task. In the biological analogy, a node is like a single neuron. Examples:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A camera driver node reads frames from a USB camera and publishes them"}),"\n",(0,i.jsx)(n.li,{children:"A face-detection node subscribes to camera frames and publishes bounding boxes"}),"\n",(0,i.jsx)(n.li,{children:"A robot arm controller node subscribes to target poses and sends motor commands"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Nodes are the primary unit of composition in ROS 2. A healthy system is many small, focused nodes \u2014 not one monolithic program."}),"\n",(0,i.jsx)(n.h3,{id:"topics",children:"Topics"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"topic"})," is a named data channel. Nodes ",(0,i.jsx)(n.strong,{children:"publish"})," to topics and ",(0,i.jsx)(n.strong,{children:"subscribe"})," to topics. Communication is anonymous and asynchronous:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[Camera Node]  \u2500\u2500publish\u2500\u2500\u25b6  /camera/image_raw  \u2500\u2500subscribe\u2500\u2500\u25b6  [Detector Node]\n                                                \u2500\u2500subscribe\u2500\u2500\u25b6  [Recorder Node]\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Topics use a ",(0,i.jsx)(n.strong,{children:"many-to-many"})," model: multiple publishers can send to one topic, and multiple subscribers can receive from it simultaneously."]}),"\n",(0,i.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"service"})," is a synchronous ",(0,i.jsx)(n.strong,{children:"request/response"})," call, similar to a function call across nodes. One node acts as the server (waits for requests) and others act as clients (send requests and wait for responses)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[Navigation Node]  \u2500\u2500request\u2500\u2500\u25b6  /compute_path  \u2500\u2500response\u2500\u2500\u25b6  [Navigation Node]\n                                     (Path Planning Server)\n"})}),"\n",(0,i.jsx)(n.p,{children:'Services are suitable for infrequent, blocking operations like "plan a path" or "take a photo".'}),"\n",(0,i.jsx)(n.h3,{id:"actions",children:"Actions"}),"\n",(0,i.jsxs)(n.p,{children:["An ",(0,i.jsx)(n.strong,{children:"action"})," is a long-running task with ",(0,i.jsx)(n.strong,{children:"feedback"})," and the ability to be ",(0,i.jsx)(n.strong,{children:"cancelled"}),'. It combines a goal (like a service request), periodic feedback (streaming like a topic), and a final result. Actions are ideal for "move the arm to this position" style commands.']}),"\n",(0,i.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"})," are runtime-configurable values associated with a node. They allow operators to tune behaviour without recompiling. For example, a navigation node might expose a ",(0,i.jsx)(n.code,{children:"max_speed"})," parameter."]}),"\n",(0,i.jsx)(n.h3,{id:"the-computation-graph",children:"The Computation Graph"}),"\n",(0,i.jsxs)(n.p,{children:["Together, nodes, topics, services, and actions form the ",(0,i.jsx)(n.strong,{children:"ROS 2 Computation Graph"})," \u2014 a live, introspectable network of communicating processes. ROS 2 tools let you visualise and query this graph at runtime:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 node list          # List all active nodes\nros2 topic list         # List all active topics\nros2 topic echo /odom   # Print messages on a topic in real-time\nros2 service list       # List all active services\nros2 node info /my_node # Show a node's publishers, subscribers, and services\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"15-ros-2-vs-ros-1-a-detailed-comparison",children:"1.5 ROS 2 vs. ROS 1: A Detailed Comparison"}),"\n",(0,i.jsx)(n.p,{children:"For students who have encountered ROS 1, or who will read legacy tutorials online, the following table highlights the most important differences:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"ROS 1"}),(0,i.jsx)(n.th,{children:"ROS 2"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Transport"})}),(0,i.jsx)(n.td,{children:"Custom TCPROS/UDPROS"}),(0,i.jsx)(n.td,{children:"DDS (standard)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Discovery"})}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"rosmaster"})," (centralised)"]}),(0,i.jsx)(n.td,{children:"RTPS automatic (peer-to-peer)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Real-time"})}),(0,i.jsx)(n.td,{children:"Not supported"}),(0,i.jsx)(n.td,{children:"Supported (with RTOS integration)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Security"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"SROS2 (DDS Security)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"QoS Policies"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Full DDS QoS suite"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"OS Support"})}),(0,i.jsx)(n.td,{children:"Ubuntu only"}),(0,i.jsx)(n.td,{children:"Linux, Windows, macOS, RTOS"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Language"})}),(0,i.jsx)(n.td,{children:"Python 2, C++"}),(0,i.jsx)(n.td,{children:"Python 3, C++17"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Lifecycle"})}),(0,i.jsx)(n.td,{children:"No managed lifecycle"}),(0,i.jsx)(n.td,{children:"Managed node lifecycle"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Build System"})}),(0,i.jsx)(n.td,{children:"catkin"}),(0,i.jsx)(n.td,{children:"ament (+ colcon)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Intra-process Comms"})}),(0,i.jsx)(n.td,{children:"Serialised (slow)"}),(0,i.jsx)(n.td,{children:"Zero-copy optimisation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Multi-robot"})}),(0,i.jsx)(n.td,{children:"Difficult (one master per network)"}),(0,i.jsx)(n.td,{children:"Native (namespaces + DDS domains)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"migration-from-ros-1",children:"Migration from ROS 1"}),"\n",(0,i.jsxs)(n.p,{children:["If you ever need to connect legacy ROS 1 systems to a ROS 2 network, a tool called the ",(0,i.jsx)(n.strong,{children:"ros1_bridge"})," package provides bidirectional topic and service bridging."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"16-the-ros-2-lifecycle-managed-nodes",children:"1.6 The ROS 2 Lifecycle: Managed Nodes"}),"\n",(0,i.jsxs)(n.p,{children:["One of ROS 2's most important production features is the ",(0,i.jsx)(n.strong,{children:"managed node lifecycle"}),". In ROS 1, nodes either ran or crashed; there was no standard way to start them up gracefully, configure them, or shut them down cleanly."]}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 introduces a state machine for nodes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"     [Unconfigured]\n           \u2502  configure()\n           \u25bc\n      [Inactive]\n           \u2502  activate()\n           \u25bc\n       [Active]   \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 (normal operation)\n           \u2502  deactivate()\n           \u25bc\n      [Inactive]\n           \u2502  cleanup()\n           \u25bc\n     [Unconfigured]\n           \u2502  shutdown()\n           \u25bc\n   [Finalized / Destroyed]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Lifecycle nodes are used extensively in navigation, manipulation, and safety-critical systems, where an operator must be able to bring components online and offline in a controlled sequence."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"17-setting-up-your-ros-2-environment",children:"1.7 Setting Up Your ROS 2 Environment"}),"\n",(0,i.jsx)(n.h3,{id:"supported-distributions",children:"Supported Distributions"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 releases are named after turtles and follow a predictable cadence. For new projects, use:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 Humble Hawksbill"})," \u2014 LTS, supported until May 2027, Ubuntu 22.04"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 Jazzy Jalisco"})," \u2014 Current LTS (2024), Ubuntu 24.04"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"installation-summary",children:"Installation Summary"}),"\n",(0,i.jsxs)(n.p,{children:["Full installation instructions are at ",(0,i.jsx)(n.a,{href:"https://docs.ros.org",children:"docs.ros.org"}),". The condensed steps on Ubuntu 22.04 for Humble are:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# 1. Set locale\nsudo locale-gen en_US en_US.UTF-8\nsudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\n\n# 2. Add the ROS 2 apt repository\nsudo apt install software-properties-common\nsudo add-apt-repository universe\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key \\\n     -o /usr/share/keyrings/ros-archive-keyring.gpg\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] \\\n     http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" \\\n     | sudo tee /etc/apt/sources.list.d/ros2.list\n\n# 3. Install\nsudo apt update && sudo apt install ros-humble-desktop\n\n# 4. Source the setup file (add to ~/.bashrc for persistence)\nsource /opt/ros/humble/setup.bash\n'})}),"\n",(0,i.jsx)(n.h3,{id:"verifying-your-installation",children:"Verifying Your Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Start a demo talker (publisher) in one terminal\nros2 run demo_nodes_py talker\n\n# In a second terminal, start a listener (subscriber)\nros2 run demo_nodes_py listener\n\n# You should see: [INFO] [talker]: Publishing: "Hello World: 1"\n#                 [INFO] [listener]: I heard: "Hello World: 1"\n'})}),"\n",(0,i.jsx)(n.p,{children:"If you see this output, your ROS 2 installation is working correctly."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"18-the-dds-domain-multi-robot-and-multi-user-environments",children:"1.8 The DDS Domain: Multi-Robot and Multi-User Environments"}),"\n",(0,i.jsxs)(n.p,{children:["DDS uses the concept of a ",(0,i.jsx)(n.strong,{children:"Domain ID"})," to isolate communication networks. All ROS 2 processes that share a domain ID can communicate; processes in different domains are completely isolated."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Set domain ID (default is 0)\nexport ROS_DOMAIN_ID=42\n"})}),"\n",(0,i.jsx)(n.p,{children:"This is invaluable when:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Multiple students are working on the same lab network (each uses a unique domain)"}),"\n",(0,i.jsx)(n.li,{children:"A robot has a public interface and a private control network"}),"\n",(0,i.jsx)(n.li,{children:"You are running simulated and physical robots simultaneously"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"19-chapter-summary",children:"1.9 Chapter Summary"}),"\n",(0,i.jsx)(n.p,{children:"In this chapter, we established the foundations for everything that follows:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 is a middleware framework"})," \u2014 not an OS \u2014 that provides standardised communication, tooling, and libraries for building robot software."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ROS 2 was created to fix ROS 1's production limitations"}),": no central broker, real-time support, security, multi-platform, and Python 3."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"The architecture has four layers"}),": DDS (transport), rmw (abstraction), rcl (core semantics), and rclpy/rclcpp (your API)."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"The six core abstractions"})," \u2014 nodes, topics, services, actions, parameters, and the computation graph \u2014 form the conceptual vocabulary of all ROS 2 programming."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Managed lifecycle nodes"})," give operators fine-grained control over node state in production deployments."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"In the next chapter, we will write our first ROS 2 Python code, implementing publishers, subscribers, and services using rclpy."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Explain in your own words why a centralised broker (like ROS 1's ",(0,i.jsx)(n.code,{children:"rosmaster"}),") is a liability in a production robot system. What happens if it crashes?"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"What is the role of the rmw layer? Why is it architecturally important to have an abstraction between rcl and the DDS implementation?"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'A teammate argues that for a university research project, ROS 1 is "good enough" because ROS 2 is harder to learn. List three concrete technical reasons why you would still recommend ROS 2 for a new project.'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Describe a scenario \u2014 in a real-world robot application \u2014 where QoS policies would be critical. Which QoS policy (reliability, deadline, lifespan, etc.) would matter most in your scenario?"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"What command would you run to see all topics currently active in a running ROS 2 system? How would you inspect the messages flowing on a specific topic?"}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},20(e,n,s){s.d(n,{A:()=>a});var r=s(6540),i=s(8774);const t={wrapper:"wrapper_bha3",personalizeBtn:"personalizeBtn_aAG4",loginPrompt:"loginPrompt_KXHJ",showOriginalBtn:"showOriginalBtn_xRLS",personalizedContent:"personalizedContent_IU8L",profileBadge:"profileBadge_N5Y4",loadingText:"loadingText_DKVO",blink:"blink_ny6F"};var o=s(4848);function a(){const[e,n]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),[l,c]=(0,r.useState)("idle"),[d,h]=(0,r.useState)(""),[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{n(!0);const e=localStorage.getItem("auth_user");if(e)try{const n=JSON.parse(e);a(n.profile||null)}catch{}},[]);const m=(0,r.useCallback)(async()=>{if(!s)return;c("loading");const e=document.querySelector("article"),n=e?e.innerText:document.body.innerText,r="undefined"!=typeof window&&window.CHATBOT_API_URL?window.CHATBOT_API_URL:"http://localhost:8000";try{const e=await fetch(`${r}/personalize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n,experience_level:s.programmingExp||"Beginner",has_gpu:"Yes"===s.hasGPU,ros_experience:s.rosExperience||"none",learning_style:s.learningStyle||"Reading"})});if(!e.ok)throw new Error(`Server error ${e.status}`);const i=await e.json();h(i.personalized_content),c("done")}catch(i){p(i.message),c("error")}},[s]),x=(0,r.useCallback)(()=>{c("idle"),h(""),p("")},[]);return e?s?(0,o.jsxs)("div",{className:t.container,children:["idle"===l&&(0,o.jsx)("button",{className:t.personalizeBtn,onClick:m,children:"\u2728 Personalize for Me"}),"loading"===l&&(0,o.jsx)("button",{className:t.personalizeBtn,disabled:!0,children:"\u23f3 Personalizing\u2026"}),"error"===l&&(0,o.jsxs)("div",{className:t.row,children:[(0,o.jsx)("button",{className:t.personalizeBtn,onClick:m,children:"\u2728 Personalize for Me"}),(0,o.jsxs)("span",{className:t.error,children:["Failed: ",u]})]}),"done"===l&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:t.row,children:[(0,o.jsxs)("span",{className:t.badge,children:["\u2728 Personalized for ",s.programmingExp," \xb7 ",s.learningStyle," learner"]}),(0,o.jsx)("button",{className:t.showOriginalBtn,onClick:x,children:"\ud83d\udcc4 Show Original"})]}),(0,o.jsx)("div",{className:t.personalizedContent,children:d})]})]}):(0,o.jsx)("div",{className:t.container,children:(0,o.jsxs)("span",{className:t.loginPrompt,children:["\u2728"," ",(0,o.jsx)(i.A,{to:"/signin",children:"Sign in"})," ","to get content personalised to your experience level."]})}):null}},7132(e,n,s){s.d(n,{A:()=>o});var r=s(6540);const i={wrapper:"wrapper_d2Eb",translateBtn:"translateBtn_zwOG",showOriginalBtn:"showOriginalBtn__IG_",translatedContent:"translatedContent_uGS7",loadingText:"loadingText_YioE",blink:"blink_rXDx"};var t=s(4848);function o(){const[e,n]=(0,r.useState)("idle"),[s,o]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),c=(0,r.useCallback)(async()=>{n("loading");const e=document.querySelector("article"),s=e?e.innerText:document.body.innerText,r="undefined"!=typeof window&&window.CHATBOT_API_URL?window.CHATBOT_API_URL:"http://localhost:8000";try{const e=await fetch(`${r}/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s,target_language:"urdu"})});if(!e.ok)throw new Error(`Server error ${e.status}`);const i=await e.json();o(i.translated_text),n("translated")}catch(i){l(i.message),n("error")}},[]),d=(0,r.useCallback)(()=>{n("idle"),o(""),l("")},[]);return(0,t.jsxs)("div",{className:i.container,children:[("idle"===e||"error"===e)&&(0,t.jsxs)("div",{className:i.row,children:[(0,t.jsx)("button",{className:i.translateBtn,onClick:c,children:"\ud83c\udf10 Translate to Urdu"}),"error"===e&&(0,t.jsxs)("span",{className:i.error,children:["Translation failed: ",a]})]}),"loading"===e&&(0,t.jsx)("button",{className:i.translateBtn,disabled:!0,children:"\u23f3 Translating\u2026"}),"translated"===e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{className:i.showOriginalBtn,onClick:d,children:"\ud83d\udcd6 Show Original English"}),(0,t.jsx)("div",{className:i.translatedContent,dir:"rtl",lang:"ur",children:s})]})]})}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);